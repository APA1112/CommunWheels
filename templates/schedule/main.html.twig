{% extends 'base.html.twig' %}

{% block body %}
    <div class="container">
        {% if schedules is empty %}
            <div class="schedule_form_container">
                <p>Todavia no has registrado tu horario. Para poder viajar con un grupo es necesario el horario</p>
                <div class="button_container">
                <a href="{{ path('schedule_create') }}" class="primaryButton"><i class="ti ti-table-plus"></i>Añadir horario</a>
                </div>
            </div>
        {% else %}
        <div class="table_container">
            {% set weekdays = {1: 'Lunes', 2: 'Martes', 3: 'Miércoles', 4: 'Jueves', 5: 'Viernes'} %}
            <h2 class="titulo">Horario de {{ app.user.driver }}</h2>
            <table>
                <thead>
                    <tr>
                        <th>Dia</th>
                        <th>Entrada</th>
                        <th>Salida</th>
                    </tr>
                </thead>
                <tbody>
                {% for schedule in schedules %}
                    <tr>
                        <td><a href="{{ path('schedule_update', {'id':schedule.id}) }}">{{ weekdays[schedule.weekDay] }}</a></td>
                        <td>{{ schedule.entrySlot }}</td>
                        <td>{{ schedule.exitSlot }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            <div class="button_container">
                <a href="{{ path('user_panel') }}" class="secondaryButton">Volver</a>
            </div>
        </div>
        {% endif %}
    </div>
{% endblock %}